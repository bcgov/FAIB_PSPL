---
title: "Raster Point Intersect"
author: "D. Waddell"
date: "`r Sys.Date()`"
output: html_document
---

## test VRI raster intersect with PSPL points


```{r}

library(sf)
library(terra)

# get Provincial fid tif

fn <- 'D:/data/data_projects/base_maps/vri_2021_fid_gr_skey.tif'
r <- rast(fn)

p <- vect('D:/data/data_projects/base_maps/small_pspl.shp')
#p$OBJECTID <- seq(1,30,1)
#writeVector(p,'D:/data/data_projects/base_maps/small_pspl.shp',overwrite=TRUE)



#crop raster to point extent + 1

e <- ext(p)
e[1] <- e[1] - 1
e[2] <- e[2] + 1
e[3] <- e[3] - 1
e[4] <- e[4] + 1

rc <- crop(r,e)

#writeRaster(rc,'D:/data/data_projects/base_maps/mini_fid.tif',overwrite=TRUE)

# intersect


x <- extract(rc,p,method='bilinear')

p_ng <- st_re

```
